= Мобильное приложение Catspost Спецификация требований к программному обеспечению
:toc: left
:toc-title: Оглавление

== BRD&SRS

Данный раздел будет описывать основные цели проекта, потребности и ценности стейкхолдеров, проекта
Функциональные и нефункциональные требования, а так же вопросы и проблемы в рамках разрабатываемого продукта.

|===
|*Ссылки на задачи в Jira*|*Схемы*|*Макеты*

|-
|-
|https://www.figma.com/design/GEyqW35304GqHDfHaUfuly/Cats-and-Phone
|===



=== 1.Предыстория и краткое изложение сути проекта.

Так как спрос на фото представителей кошачьих в сети Интернет только растет, было принято решение разработать мобильное приложения в которым Владельцы питомцев смогут делится фото между друг другом, основной айдиторие в виде питомца выбраны представители кошачьих

=== 2.Формулировка потребностей и ценность проекта.

*BACCM Canvas*

|===
|*Context*

|Мобильное приложение для любителей кошек, которое позволяет делиться фотографиями своих питомцев и находить новых друзей для своих кошек.

|===

|===
|*Stakeholders*

|Владельцы кошек, которые хотят поделиться фотографиями своих питомцев и найти новых друзей для них.

Рекламодатели, которые хотят размещать рекламу в приложении.

Разработчики приложения

Любители кошек

Сообщество любителей кошек

|===

|===
|*Needs*

|Пользователи хотят легко и быстро делиться фотографиями своих кошек и находить новых друзей для них.
Рекламодатели хотят размещать рекламу, которая будет интересна пользователям приложения.

|===


|===
|*Changes*

|Создание мобильного приложения для шаринга фотографий кошек.

|===

|===
|*Solutions*

|Создание мобильного приложения для Android с интуитивно понятным интерфейсом.

|===

|===
|*Value*

|Приложение позволит владельцам кошек легко делиться фотографиями своих питомцев и находить новых друзей для них.

Рекламодатели смогут размещать рекламу, которая будет интересна пользователям приложения.

Приложение будет способствовать развитию сообщества любителей кошек и поможет им находить новых друзей для своих питомцев.

|===

=== 3.Цель проекта по SMART.

В течение 6 месяцев создать мобильное приложение для Android, которое позволит пользователям делиться фотографиями своих кошек, находить новых друзей для них. Успех проекта будет измерен по количеству загруженных фотографий, активных пользователей, новых друзей для кошек. Для достижения цели необходимо разработать приложение, создать базу данных провести тестирование и отладку приложения, внедрить мобильное приложение в продуктивную среду.


*Specific*

Создание мобильного приложения для Android, которое позволит пользователям делиться фотографиями своих кошек, находить новых друзей для них.

*Measurable*

Успех проекта может быть измерен по следующим показателям:

* Количество загруженных фотографий кошек.

* Количество активных пользователей приложения.

* Количество новых друзей, которые нашли своих кошек с помощью приложения.

*Achievable*

Проект может быть реализован с использованием существующих технологий и ресурсов. Для достижения цели необходимо:

* Разработать мобильное приложение для Android.

* Создать базу данных для хранения фотографий кошек и информации о пользователях.

* Провести тестирование и отладку приложения.

* Внедрить мобильное приложение в продуктивную среду

*Relevant*

Проект будет релевантен для владельцев кошек, которые хотят делиться фотографиями своих питомцев и находить новых друзей для них. Кроме того, проект будет способствовать развитию сообщества любителей кошек и поможет им находить новых друзей для своих питомцев.

*Time-bound*

Проект должен быть реализован в течение 6 месяцев. Этот срок включает в себя разработку, тестирование и запуск приложения. После запуска приложения необходимо будет проводить регулярные обновления и улучшения на основе отзывов пользователей.

=== 4.Стейкхолдеры продукта.

|===
|*Владельцы кошек:*

|это основная целевая аудитория приложения. Они будут использовать приложение для того, чтобы делиться фотографиями своих питомцев, находить новых друзей для них и общаться с другими любителями кошек.

|===

|===
|*Любители кошек:*

|это более широкая целевая аудитория приложения. Они могут не иметь своих кошек, но любят этих животных и хотят видеть их фотографии и общаться с другими любителями кошек.

|===

|===
|*Рекламодатели:*

|компании, которые хотят размещать свою рекламу в приложении. Это могут быть производители кормов для кошек, изготовители кошачьих лекарств, производители игрушек для кошек и другие компании, связанные с кошками.

|===

|===
|*Разработчики приложения:*

|команда разработчиков, которая отвечает за создание и поддержку приложения. Они заинтересованы в том, чтобы приложение было качественным, надежным и удобным для пользователей.

|===

|===
|*Сообщество любителей кошек:*

|это более широкая группа, которая включает в себя владельцев кошек, любителей кошек, организации, занимающиеся защитой прав животных, и других людей, которые заинтересованы в кошках. Они могут быть заинтересованы в использовании приложения для обмена информацией и опытом, а также для продвижения идей и инициатив, связанных с кошками.

|===

*Mindmap стейхолдеров*

[plantuml, stakeholders_mmap, png]
----
include::uml/stakeholders_mmap.puml[]
----

=== 5.Границы проекта и ограничения.
*Технические границы проекта:*

 * Разработка ведется на языке Kotlin клиентского мобильного приложения для Android устройств для ОС Android так и для Backend системы.
 * Для хранения фото необходимо использовать только облачные хранилища.

*Технические ограничения проекта:*

 * Приложение не поддерживает работу на устройствах с ОС ниже Android v.10.0.
 * Приложение имеет ограничения на формат загружаемых фотографий, доступные для загрузки jpg, jpeg, png      загружаемые фото должны иметь размер не больше 20 мб.
 * Приложение имеет ограничения на количество фотографий, которые можно загрузить, не больше одной фотографий в течении 3 секунд.


=== 6.Функциональные требования.
*Описание функциональных требований будет описан в формате user story и разбита на основные функциональности с описанием use case*

*Авторизация*

* Как Владелeц кошек, я хочу зарегистрироваться в приложении, чтобы получить доступ к его функционалу.

*Use Case 1: Регистрация нового пользователя*

 Актер: Владелец кошек
 Цель: Зарегистрироваться в приложении
 Предварительные условия: Приложение установлено на устройство
 Триггер: Пользователь установил мобильное приложение и зашел в него
 Описание:
 1.Владелец кошек запускает приложение
 2.Владелец кошек нажимает кнопку "Зарегистрироваться"
 3.Система отображает форму регистрации
 4.Владелец кошек вводит необходимую информацию (имя питомца, электронную почту, пароль)
 5.Владелец кошек нажимает кнопку "Зарегистрироваться"
 6.Система проверяет введенную информацию
 7.Владелец кошек создает новую учетную запись и авторизует пользователя
 8.Владелец кошек отображает ленту новостей

 Альтернативные сценарии

 1.Владелец кошек запускает приложение
 2.Владелец кошек нажимает кнопку "Зарегистрироваться"
 3.Система отображает форму регистрации
 4.Владелец кошек вводит необходимую информацию (имя питомца, электронную почту, пароль)
 5.Владелец кошек нажимает кнопку "Зарегистрироваться"
 6.Система проверяет введенную информацию
 7.Отображение сообщения об ошибке невалидных данных
 8.Владелец кошек вводит исправленную информацию
 9.Владелец кошек нажимает кнопку "Зарегистрироваться"
 10.Система проверяет введенную информацию
 11.Владелец кошек создает новую учетную запись и авторизует пользователя
 12.Владелец кошек отображает ленту новостей

*Диаграмма прецендентов*

[plantuml, sign, png]
----
include::uml/sign.puml[]
----

* Как Владелeц кошек, я хочу авторизоваться в приложении, чтобы получить доступ к своему профилю и контенту.

*Use Case 2: Авторизация пользователя*

 Актер: Владелец кошек
 Цель: Войти в приложение
 Предварительные условия: Пользователь зарегистрирован в приложении
 Описание:
 1.Владелец кошек запускает приложение
 2.Владелец кошек вводит электронную почту и пароль
 3.Владелец кошек нажимает кнопку "Сontinue"
 4.Система проверяет введенные данные
 5.Система авторизует пользователя
 6.Система отображает ленту новостей

*Альтернативные сценарии*

 1.Владелец кошек запускает приложение
 2.Владелец кошек вводит электронную почту и пароль
 3.Владелец кошек нажимает кнопку "Сontinue"
 4.Система проверяет введенные данные
 7.Отображение сообщения об ошибке невалидных данных
 8.Владелец кошек вводит исправленную информацию
 6.Система отображает ленту новостей

*Диаграмма прецендентов*

[plantuml, auth, png]
----
include::uml/auth.puml[]
----

*Работа с лентой*

* Как Владелeц кошек, я хочу просматривать ленту фотографий, чтобы видеть фотографии других пользователей.

*Use Case 3: Работа с лентой*

 Актер: Владелец кошек
 Цель: Войти в приложение
 Предварительные условия: Пользователь зарегистрирован в приложении и прошел авторизацию
  Описание:
 1.Запуск приложения
 2.Отображение ленты новостей

*Альтернативные сценарии*

 1.Запуск приложения
 2.Отображение сообщения об ошибке
 3.Владелец кошек прокручивает страницу профиля
 4.Обновление отображения ленты фотографий


*Диаграмма прецендентов*

[plantuml, feed, png]
----
include::uml/feed.puml[]
----

* Как Владелeц кошек, я хочу лайкать и снимать лайки с фотографии, которые мне нравятся, чтобы выразить свое отношение к ним.

*Use Case 4: Лайк фотографий*

 Актер: Владелец кошек
 Цель: Выразить свое отношение к фотографиям, которые нравятся
 Предварительные условия: Пользователь зарегистрирован в приложении и прошел авторизацию
 Описание:
 1.Запуск приложения
 2.Отображение ленты новостей
 3.Владелец кошек нажимает на кнопку "Like" под фотографией
 4.Система регистрирует лайк владельца кошек и обновляет количество лайков фотографии
 5.Система отображает обновленное количество лайков фотографии
 6.Обновить количество лайков фотографии
 7.Система обновляет количество лайков фотографии, уменьшая его на 1
 8.Система отображает обновленное количество лайков фотографии

*Диаграмма прецендентов*

[plantuml, like, png]
----
include::uml/like.puml[]
----

*Профиль*

* Как Владелeц кошек, я хочу видеть статистику своего профиля, чтобы отслеживать свою активность и популярность в приложении.

*Use Case 5: Вход в профиль*

 Актер: Владелец кошек
 Цель: Просмотр профиля
 Предварительные условия: Пользователь зарегистрирован в приложении и прошел авторизацию
  Описание:
 1.Запуск приложения
 2.Система отображает ленту новостей
 3.Владелец кошек нажимает кнопку на "Главное меню"
 4.Сисетма отображает меню приложения
 5.Владелец кошек нажимает на кнопку "Profile"
 6.Системы отображает профиля авторизованного пользователя

*Альтернативные сценарии*

 1.Запуск приложения
 2.Система отображает ленту новостей
 3.Владелец кошек нажимает на кнопку "Главное меню"
 4.Система отображает меню приложения
 5.Владелец кошек нажимает на кнопку "Profile"
 6.Система отображает сообщения об ошибке
 7.Владелец кошек прокручивает страницу профиля
 8.Система обновляет отображения ленты фотографий

*Диаграмма прецендентов*

[plantuml, profile, png]
----
include::uml/profile.puml[]
----

*Поиск других пользователей*

* Как Владелeц кошек, я хочу искать фотографии по тегам, чтобы найти фотографии определенных кошек или тем.

*Use Case 6: Поиск фото по тегам*

 Актер: Владелец кошек
 Цель: Просмотр профиля
 Предварительные условия: Пользователь зарегистрирован в приложении и прошел авторизацию
  Описание:
 1.Запуск приложения
 2.Отображение ленты новостей
 3.Нажатие на кнопку "Поиск"
 4.Система отображает меню поиска
 5.Владелец кошек вводит тег по которому будет искать фото
 6.Система отображает фото с такими тегами

*Альтернативные сценарии*

 1.Запуск приложения
 2.Отображение ленты новостей
 3.Нажатие на кнопку "Поиск"
 4.Система отображает меню поиска
 5.Владелец кошек вводит тег по которому будет искать фото
 6.Система отображает сообщения об ошибке
 7.Владелец кошек прокручивает страницу профиля
 8.Система обновляет отображения ленты фотографий

*Диаграмма прецендентов*

[plantuml, search, png]
----
include::uml/search.puml[]
----


* Как Владелeц кошек, я хочу подписываться на других пользователей, чтобы следить за их фотографиями.

*Работа с фотографиями*

* Как Владелeц кошек, я хочу удалять свои фотографии, чтобы контролировать свой контент в приложении.
* Как Владелeц кошек, я хочу редактировать фото в профиле, чтобы сменить фотографию.
* Как Владелeц кошек, я хочу добавлять фотографии своих кошек, чтобы делиться ими с другими пользователями.

=== 7.Нефункциональные требования

Продукт будем активно развивать из ближайших планов:

*Внутренние атрибуты качества*

 * Архитектура приложения должна быть распределенной и маштабированной, продукт будем активно развивать
 * У каждого сервиса должна быть децентрализованая БД
 * Мобильное приложение должно быть переносимо на другие ОС планируется реализовать приложение на ОС IOS

*Внешние атрибуты качества*

 * *Приложение должно быть доступно:* любой запрос на рабочий узел должен быть обработан. Даже в случае отказа одного и более узлов системы должна продолжать обрабатывать запросы.
 * *Данные должны быть согласованы:* пользователь может читать и записывать на любой узел и получить одни и те же данные.
 * *Удобство установки:* среднее время установки системы не должно превышать двух минут, обновление не больше пятидесяти секунд
 * *Время жизни фото(ttl фото):* должны хранится весь цикл использования приложения пользователем, фото удаляются только после полного удаления учетной записи из системы.
 * *Совместимость:* приложение должно быть совместима к интеграциям с другими системами.
 * *Отзывчивость:* приложение должно отвечать на запросы не больше чем за 1 секунды
 * *Защищенность:* персональные данные о пользователях должны быть зашифрованы
 * *Безопасность:* использование JWT-авторизации, доступ к приложению только пользователям которые зарегистрировались и имеют свой Логин\Пароль
 * *Запросы в секунду:* предпологается, что каждый день кол-во активных пользователей будет в районе 20000 предположим, что один пользователь будет совершать один запрос в в течение одной секунды

 Вычислим RPS по формуле: 
 RPS = (количество активных пользователей в день) * (количество действий одного пользователя в секунду) / (количество секунд в дне)
 RPS = 20000 * 1 / (24 * 60 * 60)
 RPS = 20000 / 86400
 RPS = 0,23.

 * *Пиковая нагрузка:* предполагается, что ежедневная пиковая нагрузка будет 10 000 в течение одного часа Предположим, что один активный пользователь совершает 1 запрос в секунду. 
 
 Тогда:
 RPS = (количество активных пользователей в час) * (количество запросов одного пользователя в секунду) / (количество секунд в часе)
 RPS = 10 000 * 1 / 3600 RPS = 2,78

 * *Пропускная способность:* Запрос, в среднем, весит 200 байт, а ответ 500 байт.
 
 В пиковой нагрузке:
 Количество данных = (размер запроса + размер ответа) * RPS 
 Количество данных = (150 байт + 400 байт) * 2,78 RPS = 1305 байт в секунду



 * *Размер хранилища:* предпологается, что фото будет весить в среднем 6 мегабайт, а в день будет 20000 пользователей который хотябы один раз будет загружать фото

 Рассчитаем общее количество данных, которое будет сохранено в хранилище за один день:
 Общее количество данных = средний размер фотографии * количество пользователей
 Общее количество данных = 6 МБ * 20000 = 120000 МБ
 Квота = общее количество данных / 1024
 Квота = 120000 МБ / 1024 = 117,19 ГБ
 Таким образом, для хранения фотографий, загруженных 20000 пользователями, необходимо обеспечить квоту в облачном хранилище не менее 117,19 ГБ.

 Рассчитаем общее количество данных, которое будет сохранено в хранилище за год:
 Общее количество данных = средний размер фотографии * количество пользователей * количество дней в году
 Общее количество данных = 6 МБ * 20000 * 365 = 43800000 МБ
 Квота = общее количество данных / 1024 / 1024
 Квота = 43800000 МБ / 1024 / 1024 = 41,76 ТБ
 Таким образом, для хранения фотографий, загруженных 20000 пользователями в течение года, необходимо обеспечить квоту в облачном хранилище не менее 41,76 ТБ.



=== 8.Роли

|===
|*Роль*|*Ставить лайки*|*Загружать фото*|*Удалять фото*|*Подписываться на других пользователей*

|Владелец питомцев
|Да
|Да
|Да
|Да
|===

=== 9.Вопросы и проблемные моменты при реализации

Будет заполнятся по ходу реализации приложения

== Спецификация бэкенда
=== 1.Логика работы системы
==== 1.2 Диаграммы последовательности
==== 1.3 Диаграммы активности
==== 1.4 Диаграмма компонентов
=== 2.Модель данных
=== 3.API Описание контрактов
=== 4.Кейсы для тестирования бэка

== UI-логика. Документация фронтэнда
=== 1.Навигация по экранам
=== 2.UI логика экранов
=== 3.Локализация

== Продуктовая аналитика
=== 1.События
=== 2.Метрики
=== 3.Логирование

== История изменений

include::ver.adoc[]
