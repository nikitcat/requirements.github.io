= Мобильное приложение Catspost Спецификация требований к программному обеспечению
:toc: left
:toc-title: Оглавление

== BRD&SRS

Данный раздел будет описывать основные цели проекта, потребности и ценности стейкхолдеров, проекта
Функциональные и нефункциональные требования, а так же вопросы и проблемы в рамках разрабатываемого продукта.

|===
|*Ссылки на задачи в Jira*|*Схемы*|*Макеты*

|-
|-
|https://www.figma.com/design/GEyqW35304GqHDfHaUfuly/Cats-and-Phone
|===


=== 1.Предыстория и краткое изложение сути проекта.

Так как спрос на фото представителей кошачьих в сети Интернет только растет, было принято решение разработать мобильное приложения в которым пользователи смогут делится фото питомцев между друг другом, основной аудиторией в виде питомца выбраны представители кошачьих

'''

=== 2.Цель проекта.

В течение 6 месяцев создать мобильное приложение для Android, которое позволит пользователям делиться фотографиями своих кошек, находить новых друзей для них. Успех проекта будет измерен по количеству загруженных фотографий, активных пользователей, новых друзей для кошек. Для достижения цели необходимо разработать приложение, создать базу данных провести тестирование и отладку приложения, внедрить мобильное приложение в продуктивную среду.

'''

=== 3.Формулировка потребностей и ценность проекта.

*BACCM Canvas*

====
*Context*

Мобильное приложение для любителей кошек, которое позволяет делиться фотографиями своих питомцев и находить новых друзей для своих кошек.
====

====
*Stakeholders*

Владельцы кошек, которые хотят поделиться фотографиями своих питомцев и найти новых друзей для них.

Рекламодатели, которые хотят размещать рекламу в приложении.

Разработчики приложения

Любители кошек

Сообщество любителей кошек
====

====
*Needs*

Пользователи хотят легко и быстро делиться фотографиями своих кошек и находить новых друзей для них.
Рекламодатели хотят размещать рекламу, которая будет интересна пользователям приложения.
====


====
*Changes*

Создание мобильного приложения для шаринга фотографий кошек.
====

====
*Solutions*

Создание мобильного приложения для Android с интуитивно понятным интерфейсом.
====

====
*Value*

Приложение позволит владельцам кошек легко делиться фотографиями своих питомцев и находить новых друзей для них.

Рекламодатели смогут размещать рекламу, которая будет интересна пользователям приложения.

Приложение будет способствовать развитию сообщества любителей кошек и поможет им находить новых друзей для своих питомцев.
====

'''

=== 4.Стейкхолдеры продукта.

|===
|*Владельцы кошек:*

|это основная целевая аудитория приложения. Они будут использовать приложение для того, чтобы делиться фотографиями своих питомцев, находить новых друзей для них и общаться с другими любителями кошек.

|===

|===
|*Любители кошек:*

|это более широкая целевая аудитория приложения. Они могут не иметь своих кошек, но любят этих животных и хотят видеть их фотографии и общаться с другими любителями кошек.

|===

|===
|*Рекламодатели:*

|компании, которые хотят размещать свою рекламу в приложении. Это могут быть производители кормов для кошек, изготовители кошачьих лекарств, производители игрушек для кошек и другие компании, связанные с кошками.

|===

|===
|*Разработчики приложения:*

|команда разработчиков, которая отвечает за создание и поддержку приложения. Они заинтересованы в том, чтобы приложение было качественным, надежным и удобным для пользователей.

|===

|===
|*Сообщество любителей кошек:*

|это более широкая группа, которая включает в себя владельцев кошек, любителей кошек, организации, занимающиеся защитой прав животных, и других людей, которые заинтересованы в кошках. Они могут быть заинтересованы в использовании приложения для обмена информацией и опытом, а также для продвижения идей и инициатив, связанных с кошками.

|===

*Mindmap стейкхолдеров*

[plantuml, stakeholders_mmap, png]
----
include::uml/stakeholders_mmap.puml[]
----

'''

=== 5.Функциональные требования.

Требования будут описаны в формате user story и разбиты на use case для каждого функционала


==== Регистрация и Авторизация
.Раскрыть
[%collapsible]
====
*Как Владелeц кошек, я хочу зарегистрироваться в приложении, чтобы получить доступ к его функционалу.*

Use Case 1: Регистрация нового пользователя

 Актер: Владелец кошек
 Цель: Зарегистрироваться в приложении
 Предварительные условия: Приложение установлено на устройство
 Триггер: Пользователь установил мобильное приложение и зашел в него
 Описание:
 1.Владелец кошек нажимает кнопку "Зарегистрироваться"
 2.Система отображает форму регистрации
 3.Владелец кошек вводит необходимую информацию (имя питомца, электронную почту, пароль)
 4.Владелец кошек нажимает кнопку "Continue"
 5.Система проверяет введенную информацию
 6.Система кошек создает новую учетную запись и авторизует пользователя
 7.Система отображает ленту новостей

Альтернативные сценарии

 1.Владелец кошек нажимает кнопку "Зарегистрироваться"
 2.Система отображает форму регистрации
 3.Владелец кошек вводит необходимую информацию (имя питомца, электронную почту, пароль)
 4.Владелец кошек нажимает кнопку "Зарегистрироваться"
 5.Система проверяет введенную информацию
 6.Отображение сообщения об ошибке невалидных данных
 7.Владелец кошек вводит исправленную информацию
 8.Владелец кошек нажимает кнопку "Зарегистрироваться"
 9.Система проверяет введенную информацию
 10.Система создает новую учетную запись и авторизует пользователя
 11.Система отображает ленту новостей


*User Story Как Владелeц кошек, я хочу авторизоваться в приложении, чтобы получить доступ к своему профилю и контенту.*

Use Case 2: Авторизация пользователя

 Актер: Владелец кошек
 Цель: Войти в приложение
 Предварительные условия: Приложение установлено на устройство пользователь зарегистрирован в приложении
 Триггер: Владелец кошек решает зайти приложение
 Описание:
 1.Система запрашивает электронную почту и пароль
 2.Владелец кошек вводит электронную почту и пароль
 3.Владелец кошек нажимает кнопку "Сontinue"
 4.Система проверяет введенные данные
 5.Система авторизует пользователя
 6.Система отображает ленту новостей

Альтернативные сценарии

 1.Система запрашивает электронную почту и пароль
 2.Владелец кошек вводит электронную почту и пароль
 3.Владелец кошек нажимает кнопку "Сontinue"
 4.Система проверяет введенные данные
 5.Отображение сообщения об ошибке невалидных данных
 6.Владелец кошек вводит исправленную информацию
 7.Система отображает ленту новостей
====

==== Работа с лентой
.Раскрыть
[%collapsible]
====
*User Story Как Владелeц кошек, я хочу просматривать ленту фотографий, чтобы видеть фотографии других пользователей.*

Use Case 1: Работа с лентой

 Актер: Владелец кошек
 Цель: Войти в приложение
 Предварительные условия: Пользователь зарегистрирован в приложении и прошел авторизацию
 Триггер: Владелец кошек решает зайти приложение
  Описание:
 1.Запуск приложения
 2.Система отображает ленту новостей

Альтернативные сценарии

 1.Запуск приложения
 2.Система отображает сообщения об ошибке
 3.Владелец кошек прокручивает страницу профиля
 4.Обновление отображения ленту фотографий

*User Story Как Владелeц кошек, я хочу лайкать и снимать лайки с фотографии, которые мне нравятся, чтобы выразить свое отношение к ним.*

Use Case 2: Лайк фотографий

 Актер: Владелец кошек
 Цель: Выразить свое отношение к фотографиям, которые нравятся
 Предварительные условия: Пользователь зарегистрирован в приложении и прошел авторизацию
 Триггер: Владелец кошек решает поставить лайк на фото
 Описание:
 1.Система отображает ленту новостей
 2.Владелец кошек нажимает на кнопку "Like" под фотографией
 3.Система регистрирует лайк владельца кошек и обновляет количество лайков фотографии
 4.Система отображает обновленное количество лайков фотографии
 5.Обновить количество лайков фотографии
 6.Система обновляет количество лайков фотографии, уменьшая его на 1
 7.Система отображает обновленное количество лайков фотографии
====

==== Профиль
.Раскрыть
[%collapsible]
====
*User Story Как Владелeц кошек, я хочу видеть статистику своего профиля, чтобы отслеживать свою активность и популярность в приложении.*

Use Case 1: Вход в профиль

 Актер: Владелец кошек
 Цель: Просмотр профиля
 Предварительные условия: Пользователь зарегистрирован в приложении и прошел авторизацию
 Триггер: Владелец кошек хочет перейти в личный профиль
  Описание:
 1.Владелец кошек нажимает кнопку на "Главное меню"
 2.Система отображает меню приложения
 3.Владелец кошек нажимает на кнопку "Profile"
 4.Система отображает профиль авторизованного пользователя

Альтернативные сценарии

 1.Владелец кошек нажимает на кнопку "Главное меню"
 2.Система отображает меню приложения
 3.Владелец кошек нажимает на кнопку "Profile"
 4.Система отображает сообщения об ошибке
 5.Владелец кошек прокручивает страницу профиля
 6.Система обновляет отображения ленты фотографий

*User Story Как Владелeц кошек, я хочу подписываться на других пользователей, чтобы следить за их фотографиями.*

Use Case 2: Подписка на других пользователей

 Актер: Владелец кошек
 Цель: Возможность подписаться на других пользователей чтобы следить за ними
 Предварительные условия: Пользователь зарегистрирован в приложении и прошел авторизацию
 Триггер: Владелец кошек хочет подписаться на других пользователей
  Описание:
 1.Система отображает ленту новостей
 2.Владелец кошек нажимает на кнопку "Follow"
 3.Cистема регистрирует подписку владельца кошек
 4.Система отображает чек-бокс,что вы теперь подписаны на другого пользователя

Альтернативные сценарии

 1.Система отображает ленту новостей
 2.Владелец кошек переходит в профиль другого пользователя через ленту
 3.Система отображает профиль другого пользователя
 4.Владелец кошек нажимает на кнопку "Follow"
 5.Система отображает чек-бокс,что вы теперь подписаны на другого пользователя
====
==== Поиск других пользователей
.Раскрыть
[%collapsible]
====
*User Story Как Владелeц кошек, я хочу искать фотографии по тегам, чтобы найти фотографии определенных кошек или тем.*

Use Case 1: Поиск фото по тегам

 Актер: Владелец кошек
 Цель: Поиск фотографий по тегам
 Предварительные условия: Пользователь зарегистрирован в приложении и прошел авторизацию
 Триггер: Владелец кошек хочет найти другие фото по тегам
  Описание:
 1.Владелец кошек нажимает на кнопку "Поиск"
 2.Система отображает экран поиска
 3.Владелец кошек вводит тег по которому будет искать фото
 4.Система отображает фото с такими тегами

Альтернативные сценарии

 1.Владелец кошек нажимает на кнопку "Поиск"
 2.Система отображает экран поиска
 3.Владелец кошек вводит тег по которому будет искать фото
 4.Система отображает сообщения об ошибке
 5.Владелец кошек прокручивает страницу профиля
 6.Система обновляет отображения ленты фотографий
====
==== Работа с фотографиями
.Раскрыть
[%collapsible]
====
*User Story Как Владелeц кошек, я хочу редактировать фото в профиле, чтобы сменить фотографию.*

Use Case 1: Добавить/редактировать фото в профиле

 Актер: Владелец кошек
 Цель: Возможность добавить фото в профилю
 Предварительные условия: Пользователь зарегистрирован в приложении и прошел авторизацию и перешел в личный профиль
 Триггер: Владелец кошек хочет добавить/редактировать фото в профиле
  Описание:
 1.Владелец кошек нажимает иконку фото профиля
 2.Владелец кошек нажимает на кнопку сделать фото
 3.Система переводит пользователя на камеру мобильного устройства
 4.Владелец кошек делает фото
 5.Владелец кошек подтверждает фото
 6.Система валидирует фото
 7.Система возвращает пользователя на экран с добавленым фото
 8.Владелец кошек нажимает на кнопку "Download photo"
 9.Система отвечает фото загружено
 10.Система переводит пользователя на экран профиля

Альтернативные сценарий 1

 Актер: Владелец кошек
 Цель: Возможность добавить фото к профилю
 Предварительные условия: Пользователь зарегистрирован в приложении и прошел авторизацию и перешел в личный профиль
 1.Владелец кошек нажимает иконку фото профиля
 2.Система переводит пользователя на экран добавить фото профиля
 3.Владелец кошек нажимает на кнопку выбрать из галереии
 4.Система переводит пользователя на выбор фото из галереии
 5.Владелец кошек выбирает фото для загрузки
 6.Система валидирует фото
 7.Система система возвращает пользователя на экран с добавленым фото
 8.Владелец кошек нажимает на кнопку "Cancel photo"
 9.Система отвечает загрузка отменена
 10.Система возвращает пользователя на экран профиля

Альтернативные сценарий 2

 Актер: Владелец кошек
 Цель: Возможность добавить фото к профилю
 Предварительные условия: Пользователь зарегистрирован в приложении и прошел авторизацию и перешел в личный профиль
  Описание:
 1.Владелец кошек нажимает иконку фото профиля
 2.Система переводит пользователя на экран добавить фото профиля
 3.Владелец кошек нажимает на кнопку выбрать из галереии
 4.Система переводит пользователя на выбор фото из галереии
 5.Владелец кошек выбирает фото для загрузки
 6.Система валидирует фото
 7.Система система отображает ошибку валидации
 8.Система возвращает пользователя на экран добавить фото профиля

*User Story Как Владелeц кошек, я хочу добавлять фотографии своих кошек, чтобы делиться ими с другими пользователями.*

Use Case 2: Добавить фото к профилю

 Актер: Владелец кошек
 Цель: Возможность добавить фото к профилю
 Предварительные условия: Пользователь зарегистрирован в приложении и прошел авторизацию и перешел в профиль
 Триггер: Владелец кошек хочет добавить/редактировать фото к профилю
  Описание:
 1.Владелец кошек нажимает кнопку "Add photo"
 2.Система переводит пользователя на экран добавить фото
 3.Владелец кошек нажимает на кнопку сделать фото
 4.Система переводит пользователя на камеру мобильного устройства
 5.Владелец кошек делает фото
 6.Владелец кошек подтверждает фото
 7.Система валидирует фото
 8.Система возвращает пользователя на экран с добавленым фото
 9.Владелец кошек нажимает на кнопку "Download photo"
 10.Система отвечает фото загружено
 11.Система переводит пользователя на экран профиля

Альтернативные сценарий 1

 Актер: Владелец кошек
 Цель: Возможность добавить фото к профилю
 Предварительные условия: Пользователь зарегистрирован в приложении и прошел авторизацию и перешел в профиль
  Описание:
 1.Владелец кошек нажимает кнопку "Add photo"
 2.Система переводит пользователя на экран добавить фото
 3.Владелец кошек нажимает на кнопку выбрать из галереии
 4.Система переводит пользователя на выбор фото из галереии
 5.Владелец кошек выбирает фото для загрузки
 6.Система валидирует фото
 7.Система система возвращает пользователя на экран с добавленым фото
 8.Владелец кошек нажимает на кнопку "Cancel photo"
 9.Система отвечает загрузка отменена
 10.Система возвращает пользователя на экран профиля

Альтернативные сценарий 2

 Актер: Владелец кошек
 Цель: Возможность добавить фото к профилю
 Предварительные условия: Пользователь зарегистрирован в приложении и прошел авторизацию и перешел в профиль
  Описание:
 1.Владелец кошек нажимает кнопку "Add photo"
 2.Система переводит пользователя на экран добавить фото
 3.Владелец кошек нажимает на кнопку выбрать из галереии
 4.Система переводит пользователя на выбор фото из галереии
 5.Владелец кошек выбирает фото для загрузки
 6.Система валидирует фото
 7.Система система отображает ошибку валидации
 8.Система возвращает пользователя на экран добавить фото

*User Story Как Владелeц кошек, я хочу удалять свои фотографии, чтобы контролировать свой контент в приложении.*

Use Case 3: Удаление фото

 Актер: Владелец кошек
 Цель: Возможность удалить загруженные фото
 Предварительные условия: Пользователь зарегистрирован в приложении и прошел авторизацию и перешел в профиль
 Триггер: Владелец кошек хочет удалить фото в профиле
  Описание:
 1.Владелец кошек нажимает на фото которое нужно удалить
 2.Система возвращает экран фото
 3.Владелец кошек  нажимает на кнопку "Delete photo"
 4.Система отвечает сообщением с предупеждением
 5.Владелец кошек отвечает "Yes"
 6.Система фото отвечает удалено
 7.Система возвращает пользователя на экран профиля

Альтернативные сценарий 1

 1.Владелец кошек нажимает на фото которое нужно удалить
 2.Система возвращает экран фото
 3.Пользователь нажимает на кнопку "Delete photo"
 4.Система отвечает сообщением с предупеждением
 5.Пользователь отвечает "No"
 6.Система возвращает пользователя на экран удаления фото

Альтернативные сценарий 2

 1.Владелец кошек нажимает на фото которое нужно удалить
 2.Система возвращает экран фото
 3.Владелец кошек нажимает на кнопку "Delete photo"
 4.Система отвечает сообщением с предупеждением
 5.Владелец кошек отвечает "Yes"
 6.Система возвращает сообщение об ошибке
 7.Система возвращает пользователя на экран удаления фото

*Диаграмма прецендентов*
====

'''

=== 6.Нефункциональные требования

==== Технические границы проекта:
.Раскрыть
[%collapsible]
====
 * Разработка ведется на языке Kotlin клиентского мобильного приложения для Android устройств для ОС Android так и для Backend системы.
 * Для хранения фото необходимо использовать только облачные хранилища.
====

==== Технические ограничения проекта:
.Раскрыть
[%collapsible]
====
 * Приложение не поддерживает работу на устройствах с ОС ниже Android v.10.0.
 * Приложение имеет ограничения на формат загружаемых фотографий, доступные для загрузки jpg, jpeg, png      загружаемые фото должны иметь размер не больше 20 мб.
 * Приложение имеет ограничения на количество фотографий, которые можно загрузить, не больше одной фотографий в течении 3 секунд.
====

==== Внутренние атрибуты качества
.Раскрыть
[%collapsible]
====
 * Архитектура приложения должна быть распределенной и маштабированной, продукт будем активно развивать
 * У каждого сервиса должна быть децентрализованая БД
 * Мобильное приложение должно быть переносимо на другие ОС планируется реализовать приложение на ОС IOS
====

==== Внешние атрибуты качества
.Раскрыть
[%collapsible]
====
 * *Приложение должно быть доступно:* любой запрос на рабочий узел должен быть обработан. Даже в случае отказа одного и более узлов системы должна продолжать обрабатывать запросы.
 * *Данные должны быть согласованы:* пользователь может читать и записывать на любой узел и получить одни и те же данные.
 * *Удобство установки:* среднее время установки системы не должно превышать двух минут, обновление не больше пятидесяти секунд
 * *Время жизни фото(ttl фото):* должны хранится весь цикл использования приложения пользователем, фото удаляются только после полного удаления учетной записи из системы.
 * *Совместимость:* приложение должно быть совместима к интеграциям с другими системами.
 * *Отзывчивость:* приложение должно отвечать на запросы не больше чем за 1 секунды
 * *Защищенность:* персональные данные о пользователях должны быть зашифрованы
 * *Безопасность:* использование JWT-авторизации, доступ к приложению только пользователям которые зарегистрировались и имеют свой Логин\Пароль
 * *Запросы в секунду:* предпологается, что каждый день кол-во активных пользователей будет в районе 20000 предположим, что один пользователь будет совершать один запрос в в течение одной секунды

 Вычислим RPS по формуле: 
 RPS = (количество активных пользователей в день) * (количество действий одного пользователя в секунду) / (количество секунд в дне)
 RPS = 20000 * 1 / (24 * 60 * 60)
 RPS = 20000 / 86400
 RPS = 0,23.
 Таким образом система должна выдерживать нагрузку в 0,23 RPS каждый день. 

 * *Пиковая нагрузка:* предполагается, что ежедневная пиковая нагрузка будет 10 000 в течение одного часа Предположим, что один активный пользователь совершает 1 запрос в секунду. 
 
 Тогда:
 RPS = (количество активных пользователей в час) * (количество запросов одного пользователя в секунду) / (количество секунд в часе)
 RPS = 10 000 * 1 / 3600 RPS = 2,78
 Таким образом система должна выдерживать пиковую нагрузку в 2,78 RPS  

 * *Пропускная способность:* Запрос, в среднем, весит 200 байт, а ответ 500 байт.
 
 Количество данных = (размер запроса + размер ответа) * RPS 
 Количество данных = (150 байт + 400 байт) * 2,78 RPS = 1305 байт в секунду
  Количество данных = (150 байт + 400 байт) * 0,23 RPS = 1305 байт в секунду
 Таким образом пропускная способность должна быть 1305 байт в пиковом режиме и 126,5 байт в обычном режиме



 * *Размер хранилища фото:* предпологается, что фото будет весить в среднем 6 мегабайт, а в день будет 20000 пользователей который хотябы один раз будет загружать фото

 Рассчитаем общее количество данных, которое будет сохранено в хранилище за один день:
 Общее количество данных = средний размер фотографии * количество пользователей
 Общее количество данных = 6 МБ * 20000 = 120000 МБ
 Квота = общее количество данных / 1024
 Квота = 120000 МБ / 1024 = 117,19 ГБ
 Таким образом, для хранения фотографий, загруженных 20000 пользователями, необходимо обеспечить квоту в облачном хранилище не менее 117,19 ГБ.

 Рассчитаем общее количество данных, которое будет сохранено в хранилище за год:
 Общее количество данных = средний размер фотографии * количество пользователей * количество дней в году
 Общее количество данных = 6 МБ * 20000 * 365 = 43800000 МБ
 Квота = общее количество данных / 1024 / 1024
 Квота = 43800000 МБ / 1024 / 1024 = 41,76 ТБ
 Таким образом, для хранения фотографий, загруженных 20000 пользователями в течение года, необходимо обеспечить квоту в облачном хранилище не менее 41,76 ТБ.
====
'''

=== 7.Роли

|===
|*Роль*|*Ставить лайки*|*Загружать фото*|*Удалять фото*|*Подписываться на других пользователей*

|Владелец питомцев
|Да
|Да
|Да
|Да
|===

'''

=== 8.Вопросы и проблемные моменты при реализации

Будет заполнятся по ходу реализации приложения

== Спецификация бэкенда
=== 1.Логика работы системы
==== 1.2 Диаграммы последовательности
==== 1.3 Диаграммы активности
==== 1.4 Диаграмма компонентов
=== 2.Модель данных
=== 3.API Описание контрактов
=== 4.Кейсы для тестирования бэка

== UI-логика. Документация фронтэнда
=== 1.Навигация по экранам
=== 2.UI логика экранов
=== 3.Локализация

== Продуктовая аналитика
=== 1.События
=== 2.Метрики
=== 3.Логирование

== История изменений

include::ver.adoc[]
